**Дата:** 28 ноября 2023 г.

**Статус:** Предложено

**Контекст:**

При разработке сервиса стриминга музыки нужно перед нами встаёт выбор системы хранения данных, то есть базы данных. От этого зависит эффективность, надежность и масштабируемость системы.

**Рассмотренные варианты:**

1. **MySQL:** СУБД, обеспечивающая многопоточность, масштабируемость, быструю работу.
2. **MongoDB:** - СУБД, которая работает с документоориентированной моделью данных. 
3. **PostgreSQL:** - это СУБД, базирующаяся на языке SQL, предоставляющая многочисленные возможности.
4. **Cassandra:** - распределённая система управления базами данных, относящаяся к классу NoSQL-систем и расчитанная на создание высокомасштабируемых и надёжных хранилищ огромных массивов данных, представленных в виде хэша.

**Решение:**

Выбран PostgreSQL.

**Обоснование:**

- **Гибкость:** PostgreSQL позволяет хранить и обрабатывать различные типы данных, такие как JSON, XML, массивы, hstore, ltree и другие.
- **Функциональность:** PostgreSQL позволяет создавать собственные типы данных и расширения для добавления новых функций и возможностей.
- **Надежность:** PostgreSQL известен своей стабильностью и надежностью, даже при работе с большими объемами данных.
- **SQL:** Стандартный и универсальный язык программирования, позволяющий выполнять сложные запросы и аналитику.
- **Масштабируемость:** PostgreSQL поддерживает репликацию, шардирование, партиционирование, кластеризацию, что позволяет добавлять новые возможности по мере необходимости.
- **Оптимизация запросов:** Отличный планировщик запросов, который оптимизирует сложные запросы.
- **Бесплатная СУБД:** Одна из немногих бесплатных СУБД с открытым исходным кодом, которая рассчитана на работу с объемными и сложными проектами.
- **Работа с большими объемами:** В большинстве СУБД, рассчитанных на средние и небольшие проекты, есть ограничения по объему базы и количеству записей в ней. В PostgreSQL ограничений нет. Ограничения касаются только конкретных записей. Одна таблица может занимать не больше 32 Тб, а одна запись — 1,6 Тб, одно поле 1 Гб.

**Недостатки решения:**

- **Производительность:** PostgreSQL может быть медленнее по сравнению с другими СУБД при выполнении больших объемов операций чтения.
- **Сложность:** PostgreSQL сложнее для изучения и использования, особенно для новых пользователей

**Последствия:**

- Все данные проекта будут храниться в PostgreSQL.
- Необходимо убедиться в компетентности команды в работе с PostgreSQL и предоставить соответствующее обучение.
- Рекомендуется регулярное создание резервных копий для предотвращения потери данных.